![Logo](https://github.com/Anton-Pronkin/net-courses-external/raw/master/HomeWork/media/epam_logo.png)

# Делегаты и события

## Рекомендации к выполнению

1. Создать решение в папке ‘09-delegates-and-events’.
2. Название решения (solution) – ‘DelegatesAndEvents’.
3. Для каждого задания должен быть отдельный проект в составе решения.
4. Название проекта – Task\#, например, Task1, Task2, Task3 и т.д.
5. Целевой рантайм - .NET Core 3.1.

## Задание 1

### Основное

Написать программу, выполняющую сортировку массива строк по возрастанию длины. Если строки состоят из равного числа символов, их следует отсортировать по алфавиту. Реализовать метод сравнения строк отдельным методом, передаваемым в сортировку через делегат.

### Требования

1. Для сортировки создать отдельный публичный статический метод Sort в классе Program.
2. Метод Sort должен принимать два параметра:
    - массив строк;
    - делегат, соответствующий сигнатуре (string, string) =&gt; int.
3.  Возвращаемое значение метода Sort – void. Должен быть отсортирован исходный массив.
4.  Логику сравнения строк вынести в отдельный публичный статический метод CompareStrings. Метод должен принимать два параметра типа string – сравниваемые строки. Возвращаемый тип – int.
5. Логика метода CompareStrings должна быть такой, чтобы строки сортировались по возрастанию длины, а если строки имеют равную длину – по алфавиту.
6. Продемонстрировать работу метода сортировки в консольном приложении. Метод Sort должен вызываться с передачей массива и метода CompareStrings в качестве параметров.

<strong>NOTE:</strong> Значение результата CompareStrings интерпретируется следующим образом:
- если результат &lt; 0, первая строка должна быть перед второй строкой в отсортированном массиве;
- если результат == 0, первая и вторая строка равнозначны при сортировке;
- если результат &gt; 0, первая строка должна быть после второй строки
    в отсортированном массиве.

## Задание 2

### Основное

Написать программу, описывающую небольшой офис (класс Office), в котором работают сотрудники – объекты класса Person, обладающие свойством имя (Name). Каждый раз при входе очередного сотрудника в офис, все пришедшие ранее его приветствуют. При уходе сотрудника домой с ним также прощаются все присутствующие.

Каждый из сотрудников содержит пару методов:
1. Приветствие сотрудника, пришедшего на работу (сигнатура соответствует делегату события офиса). В зависимости от времени суток, приветствие может быть различным: до 12 часов – «Доброе утро», с 12 до 17 – «Добрый день», начиная с 17 часов – «Добрый вечер».
2. Прощание с ним (сигнатура соответствует делегату события офиса).

Вызов методов приветствия и прощания должен осуществляться через
механизм обработки событий.
События прихода и ухода генерируются объектом офиса.

<strong>NOTE:</strong> Приложение проектируйте с учетом [рекомендаций](https://docs.microsoft.com/en-us/dotnet/standard/events/).

### Требования

1. Класс Office должен иметь методы Come (прихода) и Leave (ухода). Они должны принимать единственный аргумент – объект класса Person.
2. У Office должны быть два события – PersonCame и PersonLeft.
3. Для передачи данных в обработчики событий использовать класс OfficeEventArgs (унаследовать его от EventArgs). Данный класс должен хранить имя сотрудника и время наступления события.
4. Сотрудники подписываются на события офиса и отписываются от них.
5. Продемонстрировать работу офиса при последовательном приходе и уходе сотрудников.

### Пример работы программы

![Task](https://github.com/Anton-Pronkin/net-courses-external/raw/master/HomeWork/media/09/subtask-2.png)

## Задание 3

### Основное

Написать модуль сортировки, включающий в себя:
- Метод сортировки из задания 1;
- Метод, позволяющий запустить сортировку в отдельном потоке выполнения;
- Событие, сигнализирующее о завершении сортировки.

### Требования

1. Для сортировки в отдельном потоке создать отдельный публичный статический метод SortAsync в классе Program.
2. Метод SortAsync должен принимать два параметра:
    - массив строк для сортировки;
    - делегат, соответствующий сигнатуре (string, string) =&gt; int.
3. Возвращаемое значение метода SortAsync – типа Thread. Возвращаемый объект потока может быть использован для того, чтобы дождаться его завершения.
4. Продемонстрировать работу модуля в [многопоточном](http://www.albahari.com/threading/) режиме.
